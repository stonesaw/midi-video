(function(t){function e(e){for(var a,s,o=e[0],l=e[1],c=e[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var l=n[o];0!==i[l]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},r=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1f44":function(t,e,n){"use strict";n("2d49")},"26d6":function(t,e,n){},"2d49":function(t,e,n){},"386a":function(t,e,n){"use strict";n("26d6")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=n("2f62");a["a"].use(i["a"]);var r=new i["a"].Store({state:{count:0},mutations:{increment:function(t){t.count++}}}),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("AppFileDropArea",{staticClass:"file-upload-card",attrs:{drag:t.drag},on:{"update:drag":function(e){t.drag=e},drop:function(e){t.file=e}}},[n("AppNavbar",{on:{"files-upload":t.filesUpload}}),n("AppCanvas",{attrs:{"files-data":t.files}}),t._l(t.files,(function(e,a){return n("div",{key:e},[t._v(" ファイル"+t._s(a)+": "+t._s(e)+" ")])}))],2)],1)},o=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[t._m(0),n("div",{staticClass:"navbar-menu",attrs:{id:"navbarBasicExample"}},[n("div",{staticClass:"navbar-start"},[n("div",{staticClass:"navbar-item has-dropdown is-hoverable",attrs:{id:"navbar-dropdown-file"}},[n("a",{staticClass:"navbar-link"},[t._v(" ファイル ")]),n("div",{staticClass:"navbar-dropdown"},[n("div",{staticClass:"navbar-item"},[n("label",[t._v(" インポート "),n("input",{ref:"file_input",attrs:{type:"file"},on:{change:t.uploadFile}})])]),n("a",{staticClass:"navbar-item"},[t._v(" Jobs ")]),n("a",{staticClass:"navbar-item"},[t._v(" Contact ")]),n("hr",{staticClass:"navbar-divider"}),n("a",{staticClass:"navbar-item"},[t._v(" Report an issue ")])])]),n("a",{staticClass:"navbar-item"},[t._v(" Home ")]),n("a",{staticClass:"navbar-item"},[t._v(" Documentation ")])]),t._m(1)])])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar-brand"},[n("a",{staticClass:"navbar-item",attrs:{href:"https://bulma.io"}},[n("img",{attrs:{src:"https://bulma.io/images/bulma-logo.png",width:"112",height:"28"}})]),n("a",{staticClass:"navbar-burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"}},[n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar-end"},[n("div",{staticClass:"navbar-item"},[n("div",{staticClass:"buttons"},[n("a",{staticClass:"button is-primary"},[n("strong",[t._v("Sign up")])]),n("a",{staticClass:"button is-light"},[t._v(" Log in ")])])])])}],u={data:function(){return{filesPath:null}},methods:{isActive:function(t){t.currentTarget.classList.toggle("is-active")},uploadFile:function(){var t=this.$refs.file_input.files;t.length>0&&(this.filesPath=t[0],console.log(this.filesPath),this.$emit("files-upload",this.filesPath))}}},d=u,f=(n("386a"),n("2877")),p=Object(f["a"])(d,l,c,!1,null,null,null),v=p.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"appCanvas"}},[n("div",{attrs:{id:"p5Canvas"}}),n("div",[t._v(" "+t._s(t.message)+" sec ( p5's clock ) ")])])},g=[],b=n("7241"),m={props:{filesData:{}},data:function(){return{message:"",files:null}},mounted:function(){var t=n("3425");new t(b.main),b.setDelegate(this.callbackOnP5),window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},watch:{filesData:function(t){this.files=t,b.setDebugLog("[open]"+this.files),b.loadMidiData(this.files)}},methods:{callbackOnP5:function(t){this.message=t},handleResize:function(){var t=window.innerWidth,e=window.innerHeight;b.updateCanvasSize(t,e)}}},_=m,C=(n("1f44"),Object(f["a"])(_,h,g,!1,null,null,null)),w=C.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"dropArea"},on:{dragenter:function(e){e.preventDefault(),t.drag=!0},dragleave:function(e){e.preventDefault(),t.drag=!1},drop:function(e){return e.preventDefault(),t.onDrop.apply(null,arguments)}}},[t._t("default"),t.drag?n("div",[t._v(" ドラッグ中 ")]):n("div",[t._v(" ドラッグアンドドロップでファイルを追加 ")])],2)},O=[],x={data:function(){return{drag:!1}},watch:{drag:function(){this.$emit("update:drag",this.drag)}},methods:{onDrop:function(t){this.drag=!1,console.log("on drop"),t&&t.dataTransfer&&0!==t.dataTransfer.files.length&&this.$emit("drop",t.dataTransfer.files[0])}}},D=x,j=(n("f456"),Object(f["a"])(D,y,O,!1,null,"69a2448f",null)),P=j.exports,S={name:"App",components:{AppNavbar:v,AppCanvas:w,AppFileDropArea:P},data:function(){return{drag:!1,files:null}},methods:{filesUpload:function(t){this.files=t}}},A=S,k=(n("5c0b"),Object(f["a"])(A,s,o,!1,null,null,null)),$=k.exports;a["a"].config.productionTip=!1,new a["a"]({store:r,render:function(t){return t($)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},7241:function(t,e,n){"use strict";n.r(e),n.d(e,"main",(function(){return d})),n.d(e,"setDelegate",(function(){return f})),n.d(e,"updateCanvasSize",(function(){return p})),n.d(e,"setDebugLog",(function(){return v})),n.d(e,"loadMidiData",(function(){return h}));n("cb29"),n("b0c0"),n("e9c4");var a,i,r,s=n("ef75"),o=s.Midi,l=null,c=void 0,u="";function d(t){function e(){}a=t,a.setup=function(){p(document.body.clientWidth,document.body.clientHeight),l.parent("p5Canvas"),a.textSize(24),e(),i=a.millis()},a.draw=function(){a.background(255),a.strokeWeight(20),a.noFill();var t=a.drawingContext.createLinearGradient(.1*a.width,.1*a.height,.9*a.width,.9*a.height);t.addColorStop(0,a.color(255,0,255)),t.addColorStop(.5,a.color(255,255,0)),a.drawingContext.strokeStyle=t,a.rect(0,0,a.width,a.height,20),r=a.round((a.millis()-i)/10)/100,""!==u&&(a.fill(0,209,178),a.text(u,100,100)),void 0!==c&&c(r)},a.mousePressed=function(){e()}}function f(t){c=t}function p(t,e){var n=a.round(.8*t),i=9*n/16;null===l&&(l=a.createCanvas(n,i)),a.resizeCanvas(n,i)}function v(t){console.log("set debug log '".concat(t,"'")),u=t}function h(t){var e=g(t);console.log("data >>"),console.log(e),u="file: ".concat(t.name)}function g(t){var e;console.log("file >>"),console.log(t);var n=new FileReader;return n.onload=function(t){var n=new o(t.target.result);console.log("midi >>"),console.log(n),n,e=JSON.stringify(n,void 0,2),console.log("json >>"),console.log(e)},n.readAsArrayBuffer(t),e}},9993:function(t,e,n){},"9c0c":function(t,e,n){},f456:function(t,e,n){"use strict";n("9993")}});
//# sourceMappingURL=app.469e339a.js.map